name: 'Sentry Artifacts'
description: 'Handles uploading coverage/test artifacts to codecov and zeus'

runs:
  using: "composite"
  steps:
    - name: Upload to codecov
      shell: bash
      run: |
        coverage_files=$(ls .artifacts/*coverage.xml || true)
        if [[ -n "$coverage_files" || -f .artifacts/coverage/cobertura-coverage.xml ]]; then
          pip install -U codecov --no-python-version-warning
          codecov
        fi
